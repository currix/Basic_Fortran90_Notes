<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1">

<title>Fortran 90 Lessons for Computational Chemistry - Input/Output (II)</title>

<link href="index.html" rel="start">
<link href="ch-clase_5.html" rel="prev">
<link href="ch-clase_8.html" rel="next">
<link href="index.html#contents" rel="contents">
<link href="index.html#copyright" rel="copyright">
<link href="ch-clase_1.html" rel="chapter" title="1 Introduction">
<link href="ch-clase_2.html" rel="chapter" title="2 Basic Operations">
<link href="ch-clase_3.html" rel="chapter" title="3 Introduction to Fortran Arrays">
<link href="ch-clase_4.html" rel="chapter" title="4 More on Arrays">
<link href="ch-clase_7.html" rel="chapter" title="5 Control Structures">
<link href="ch-clase_5.html" rel="chapter" title="6 INPUT/OUTPUT (I)">
<link href="ch-clase_6.html" rel="chapter" title="7 Input/Output (II)">
<link href="ch-clase_8.html" rel="chapter" title="8 Subprograms (I): FUNCTIONS">
<link href="ch-clase_9.html" rel="chapter" title="9 Subprogramas (II): subrutinas">
<link href="ch-clase_10.html" rel="chapter" title="10 Subprogramas (III): módulos">
<link href="ch-clase_11.html" rel="chapter" title="11 Subprogramas (IV)">
<link href="ch-clase_blaslap.html" rel="chapter" title="12 Instalación y uso de las bibliotecas BLAS y LAPACK">
<link href="ch-cap_ref.html" rel="chapter" title="13 Referencias">
<link href="ch-clase_1.html#s-sec_11" rel="section" title="1.1 Objectives">
<link href="ch-clase_1.html#s-sec_12" rel="section" title="1.2 Main items.">
<link href="ch-clase_1.html#s-sec_13" rel="section" title="1.3 Example Codes.">
<link href="ch-clase_2.html#s-sec_21" rel="section" title="2.1 Objectives">
<link href="ch-clase_2.html#s-sec_22" rel="section" title="2.2 Main items.">
<link href="ch-clase_2.html#s-sec_23" rel="section" title="2.3 Example Codes.">
<link href="ch-clase_3.html#s-sec_31" rel="section" title="3.1 Objectivos">
<link href="ch-clase_3.html#s-sec_32" rel="section" title="3.2 Main items.">
<link href="ch-clase_3.html#s-sec_33" rel="section" title="3.3 Example Codes.">
<link href="ch-clase_4.html#s-sec_41" rel="section" title="4.1 Objectives">
<link href="ch-clase_4.html#s-sec_42" rel="section" title="4.2 Main items.">
<link href="ch-clase_4.html#s-sec_43" rel="section" title="4.3 Example Codes.">
<link href="ch-clase_7.html#s-sec_71" rel="section" title="5.1 Objectives">
<link href="ch-clase_7.html#s-sec_72" rel="section" title="5.2 Main items.">
<link href="ch-clase_7.html#s-sec_73" rel="section" title="5.3 Example codes.">
<link href="ch-clase_5.html#s-sec_51" rel="section" title="6.1 Objectivos">
<link href="ch-clase_5.html#s-sec_52" rel="section" title="6.2 Main Items.">
<link href="ch-clase_5.html#s-sec_53" rel="section" title="6.3 Example Codes">
<link href="ch-clase_6.html#s-sec_61" rel="section" title="7.1 Objectives">
<link href="ch-clase_6.html#s-sec_62" rel="section" title="7.2 Main items.">
<link href="ch-clase_6.html#s-sec_63" rel="section" title="7.3 Example Codes">
<link href="ch-clase_8.html#s-sec_81" rel="section" title="8.1 Objectives">
<link href="ch-clase_8.html#s-sec_82" rel="section" title="8.2 Main items.">
<link href="ch-clase_8.html#s-sec_83" rel="section" title="8.3 Example Codes">
<link href="ch-clase_9.html#s-sec_91" rel="section" title="9.1 Objetivos">
<link href="ch-clase_9.html#s-sec_92" rel="section" title="9.2 Puntos destacables.">
<link href="ch-clase_9.html#s-sec_93" rel="section" title="9.3 Programas usados como ejemplo.">
<link href="ch-clase_10.html#s-sec_101" rel="section" title="10.1 Objetivos">
<link href="ch-clase_10.html#s-sec_102" rel="section" title="10.2 Puntos destacables.">
<link href="ch-clase_10.html#s-sec_103" rel="section" title="10.3 Programas usados como ejemplo.">
<link href="ch-clase_11.html#s-sec_111" rel="section" title="11.1 Objetivos">
<link href="ch-clase_11.html#s-sec_112" rel="section" title="11.2 Puntos destacables.">
<link href="ch-clase_11.html#s-sec_113" rel="section" title="11.3 Programas usados como ejemplo.">
<link href="ch-clase_blaslap.html#s-sec_bl1" rel="section" title="12.1 Objetivos">
<link href="ch-clase_blaslap.html#s-sec_bl2" rel="section" title="12.2 Puntos destacables.">
<link href="ch-clase_blaslap.html#s-sec_bl3" rel="section" title="12.3 Programas usados como ejemplo.">
<link href="ch-clase_1.html#s-sec_p_1_1" rel="subsection" title="1.3.1 excode_1_1.f90">
<link href="ch-clase_1.html#s-sec_p_1_2" rel="subsection" title="1.3.2 excode_1_2.f90">
<link href="ch-clase_2.html#s-sec_p_2_1" rel="subsection" title="2.3.1 excode_2_1.f90">
<link href="ch-clase_2.html#s-sec_p_2_2" rel="subsection" title="2.3.2 excode_2_2.f90">
<link href="ch-clase_2.html#s-sec_p_2_3" rel="subsection" title="2.3.3 excode_2_3.f90">
<link href="ch-clase_2.html#s-sec_p_2_4" rel="subsection" title="2.3.4 excode_2_4.f90">
<link href="ch-clase_2.html#s-sec_p_2_5" rel="subsection" title="2.3.5 excode_2_5.f90">
<link href="ch-clase_2.html#s-sec_p_2_6" rel="subsection" title="2.3.6 excode_2_6.f90">
<link href="ch-clase_3.html#s-sec_p_3_1" rel="subsection" title="3.3.1 excode_3_1.f90">
<link href="ch-clase_3.html#s-sec_p_3_2" rel="subsection" title="3.3.2 excode_3_2.f90">
<link href="ch-clase_3.html#s-sec_p_3_3" rel="subsection" title="3.3.3 excode_3_3.f90">
<link href="ch-clase_3.html#s-sec_p_3_4" rel="subsection" title="3.3.4 excode_3_4.f90">
<link href="ch-clase_4.html#s-sec_p_4_1" rel="subsection" title="4.3.1 excode_4_1.f90">
<link href="ch-clase_4.html#s-sec_p_4_2" rel="subsection" title="4.3.2 excode_4_2.f90">
<link href="ch-clase_4.html#s-sec_p_4_3" rel="subsection" title="4.3.3 excode_4_3.f90">
<link href="ch-clase_4.html#s-sec_p_4_4" rel="subsection" title="4.3.4 excode_4_4.f90">
<link href="ch-clase_4.html#s-sec_p_4_5" rel="subsection" title="4.3.5 excode_4_5.f90">
<link href="ch-clase_4.html#s-sec_p_4_6" rel="subsection" title="4.3.6 excode_4_6.f90">
<link href="ch-clase_7.html#s-sec_p_7_1" rel="subsection" title="5.3.1 excode_5_1.f90">
<link href="ch-clase_7.html#s-sec_p_7_2" rel="subsection" title="5.3.2 excode_5_2.f90">
<link href="ch-clase_7.html#s-sec_p_7_3" rel="subsection" title="5.3.3 excode_5_3.f90">
<link href="ch-clase_7.html#s-sec_p_7_4" rel="subsection" title="5.3.4 Programa ejemplo_5_4.f90">
<link href="ch-clase_5.html#s-sec_p_5_1" rel="subsection" title="6.3.1 excode_6_1.f90">
<link href="ch-clase_5.html#s-sec_p_5_2" rel="subsection" title="6.3.2 excode_6_2.f90">
<link href="ch-clase_5.html#s-sec_p_5_3" rel="subsection" title="6.3.3 excode_6_3.f90">
<link href="ch-clase_5.html#s-sec_p_5_4" rel="subsection" title="6.3.4 excode_6_4.f90">
<link href="ch-clase_5.html#s-sec_p_5_5" rel="subsection" title="6.3.5 excode_6_5.f90">
<link href="ch-clase_5.html#s-sec_p_5_6" rel="subsection" title="6.3.6 excode_6_6.f90">
<link href="ch-clase_5.html#s-sec_p_5_7" rel="subsection" title="6.3.7 excode_6_7.f90">
<link href="ch-clase_6.html#s-sec_p_6_1" rel="subsection" title="7.3.1 Programa ejemplo_7_1.f90">
<link href="ch-clase_6.html#s-sec_p_6_2" rel="subsection" title="7.3.2 excode_7_2.f90">
<link href="ch-clase_6.html#s-sec_p_6_22" rel="subsection" title="7.3.3 Script ej_here_file">
<link href="ch-clase_6.html#s-sec_p_6_3" rel="subsection" title="7.3.4 excode_7_3.f90">
<link href="ch-clase_6.html#s-sec_p_6_32" rel="subsection" title="7.3.5 namelist input file">
<link href="ch-clase_6.html#s-sec_p_6_4" rel="subsection" title="7.3.6 excode_7_4.f90">
<link href="ch-clase_8.html#s-sec_p_8_1" rel="subsection" title="8.3.1 excode_8_1.f90">
<link href="ch-clase_8.html#s-sec_p_8_2" rel="subsection" title="8.3.2 excode_8_2.f90">
<link href="ch-clase_8.html#s-sec_p_8_3" rel="subsection" title="8.3.3 Programa ejemplo_8_3.f90">
<link href="ch-clase_8.html#s-sec_p_8_4" rel="subsection" title="8.3.4 Programa ejemplo_8_4.f90">
<link href="ch-clase_8.html#s-sec_p_8_5" rel="subsection" title="8.3.5 excode_8_5.f90">
<link href="ch-clase_8.html#s-sec_p_8_6" rel="subsection" title="8.3.6 excode_8_6.f90">
<link href="ch-clase_8.html#s-sec_p_8_7" rel="subsection" title="8.3.7 excode_8_7.f90">
<link href="ch-clase_9.html#s-sec_p_9_1" rel="subsection" title="9.3.1 Programa ejemplo_9_1.f90">
<link href="ch-clase_9.html#s-sec_p_9_2" rel="subsection" title="9.3.2 Programa ejemplo_9_2.f90">
<link href="ch-clase_9.html#s-sec_p_9_3" rel="subsection" title="9.3.3 Programa ejemplo_9_3.f90">
<link href="ch-clase_9.html#s-sec_p_9_4" rel="subsection" title="9.3.4 Programa ejemplo_9_4.f90">
<link href="ch-clase_9.html#s-sec_p_9_5" rel="subsection" title="9.3.5 Programa ejemplo_9_5.f90">
<link href="ch-clase_9.html#s-sec_p_9_6" rel="subsection" title="9.3.6 Programa ejemplo_9_6.f90">
<link href="ch-clase_9.html#s-sec_p_9_7" rel="subsection" title="9.3.7 Programa ejemplo_9_7.f90">
<link href="ch-clase_10.html#s-sec_p_10_1" rel="subsection" title="10.3.1 Programa ejemplo_10_1.f90">
<link href="ch-clase_10.html#s-sec_p_10_2" rel="subsection" title="10.3.2 Programa ejemplo_10_2.f90">
<link href="ch-clase_10.html#s-sec_p_10_3" rel="subsection" title="10.3.3 Programa ejemplo_10_3.f90">
<link href="ch-clase_10.html#s-sec_p_10_4" rel="subsection" title="10.3.4 Programa ejemplo_10_4.f90">
<link href="ch-clase_11.html#s-sec_p_11_1" rel="subsection" title="11.3.1 Programa ejemplo_11_1.f90">
<link href="ch-clase_11.html#s-sec_p_11_2" rel="subsection" title="11.3.2 Programa ejemplo_11_2.f90">
<link href="ch-clase_11.html#s-sec_p_11_3" rel="subsection" title="11.3.3 Programa ejemplo_11_3.f90">
<link href="ch-clase_11.html#s-sec_p_11_4" rel="subsection" title="11.3.4 Programa ejemplo_11_4.f90">
<link href="ch-clase_blaslap.html#s-sec_p_bl_1" rel="subsection" title="12.3.1 Ejemplo de fichero make.inc para LAPACK">
<link href="ch-clase_blaslap.html#s-sec_p_bl_2" rel="subsection" title="12.3.2 Ejemplo de fichero make.inc para LAPACK95">
<link href="ch-clase_blaslap.html#s-sec_p_bl_3" rel="subsection" title="12.3.3 Ejemplo de programa que invoca LAPACK95">
<link href="ch-clase_blaslap.html#s-sec_p_bl_4" rel="subsection" title="12.3.4 Ejemplo de makefile para compilar programas que invocan LAPACK95">

</head>

<body>

<p><a name="ch-clase_6"></a></p>
<hr>

<p>
[ <a href="ch-clase_5.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch-clase_1.html">1</a> ]
[ <a href="ch-clase_2.html">2</a> ]
[ <a href="ch-clase_3.html">3</a> ]
[ <a href="ch-clase_4.html">4</a> ]
[ <a href="ch-clase_7.html">5</a> ]
[ <a href="ch-clase_5.html">6</a> ]
[ 7 ]
[ <a href="ch-clase_8.html">8</a> ]
[ <a href="ch-clase_9.html">9</a> ]
[ <a href="ch-clase_10.html">10</a> ]
[ <a href="ch-clase_11.html">11</a> ]
[ <a href="ch-clase_blaslap.html">12</a> ]
[ <a href="ch-cap_ref.html">13</a> ]
[ <a href="ch-clase_8.html">next</a> ]
</p>

<hr>

<h1>
<code>Fortran 90</code> Lessons for Computational Chemistry
<br>Chapter 7 - <samp>Input/Output</samp> (II)
</h1>

<hr>

<h2 id="s-sec_61">7.1 Objectives</h2>

<p>
The main aims of this session consist of:
</p>
<ol type="1" start="1" >
<li>
<p>
present the use of <samp>FORMAT</samp> in reading operations.
</p>
</li>
</ol>
<ol type="1" start="2" >
<li>
<p>
basic techniques about the reading of files in <code>Fortran</code>.
</p>
</li>
</ol>
<ol type="1" start="3" >
<li>
<p>
present possible alternatives to the standard <samp>I/O</samp>: <em>here
documents</em> and the <samp>NAMELIST</samp> type input.
</p>
</li>
</ol>
<ol type="1" start="4" >
<li>
<p>
present internal files.
</p>
</li>
</ol>

<p>
This chapter is very much linked with the previous one, having an emphasis in
reading data instead of writing them.  We present interesting options for
providing input data to a program.  Formatted input is seldom used with the
keyboard, though it is very important when reading data stored in a file.
</p>

<hr>

<h2 id="s-sec_62">7.2 Main items.</h2>
<ul>
<li>
<p>
The <samp>FORMAT</samp> statement acts in a completely equivalent way to the
one explained in <a href="ch-clase_5.html"><samp>INPUT/OUTPUT</samp> (I),
Chapter 6</a>.
</p>
</li>
</ul>
<ul>
<li>
<p>
A useful option of the <samp>READ</samp> command is <samp>IOSTAT</samp>.  It
allows to detect if the read process has reached the end-of-file:
</p>

<pre>
     READ(UNIT=<var>unit_number</var>, FMT=<var>format_label</var>, IOSTAT=<var>integer_var</var>) <var>variable_list</var>
</pre>

<p>
Thus, if if we read a set of data, e.g.  coordinates in space as
<samp>(var_X,var_Y,var_Z)</samp> from a file and we do not know the total
number of coordinates included we can proceed as follows
</p>

<pre>
     num_data = 0
     readloop: DO
        !
        READ(UNIT=33, FMT=100, IOSTAT=io_status) var_X, var_Y, var_Z
        !
        ! Check reading
        IF (io_status /= 0) THEN
          ! Error in the input or EOF
          EXIT
        ENDIF
        num_data = num_dat + 1
        !   work with the coordinates
        !
           ......
        !
        ! Format statement
     100 FORMAT(1X, 3F25.10)
        ! 
     ENDDO readloop
</pre>

<p>
The integer variable <samp>num_data</samp> is a counter that indicates the
number of points read and the integer <samp>io_status</samp> check if the
reading has been correct.
</p>
</li>
</ul>
<ul>
<li>
<p>
The example <a href="#s-sec_p_6_1">Programa ejemplo_7_1.f90, Section 7.3.1</a>
presents how to read array slices from a file were students' grades are
indicated in rows (students) and columns (subjects).
</p>
</li>
</ul>
<ul>
<li>
<p>
A convenient way to convey the input to a <code>Fortran</code> program is
making use of a <em>here documents</em> from the <code>bash shell</code>.
</p>

<p>
A <em>here document</em> is a brief script[<a href="footnotes.html#f8"
name="fr8">8</a>], such that apart from compiling (if necessary) and running
the program, the input is given in a way that comments can also be included.
Example <a href="#s-sec_p_6_2"><samp>excode_7_2.f90</samp>, Section 7.3.2</a>
is a program that computes the roots of a second order algebraic equation
<samp>y = A*x**2 + B*x + C</samp> and <samp>ej_here_file</samp> included in <a
href="#s-sec_p_6_22">Script <samp>ej_here_file</samp>, Section 7.3.3</a>, is an
application of a <em>here document</em>.  In order to run this program proceed
as follows
</p>

<pre>
     . ej_here_file
</pre>
</li>
</ul>
<ul>
<li>
<p>
The <samp>namelist</samp> format is quite informative, consisting in a list of
values assigned to variables labeled with their names.  The command
<samp>NAMELIST</samp> syntax is
</p>

<pre>
     NAMELIST/<var>var_group_name</var>/ <var>var1 [var2 var3 ... ]</var>
</pre>

<p>
This statement define a set of variables assigned to the
<var>var_group_name</var> and should appear in the program prior to any
executable statemnt.  The reading of variables included in a
<samp>NAMELIST</samp> is done with a <samp>READ</samp> statement where, instead
of specifying a format with the <samp>FMT</samp> option, is used the option
<samp>NML</samp> as follows[<a href="footnotes.html#f9" name="fr9">9</a>]
</p>

<pre>
     READ(UNIT=<var>unit_number</var>, NML=<var>var_group_name</var>, [...])
</pre>

<p>
The <samp>NAMELIST</samp> file with the variable information must start each
line with the &quot;&amp;&quot; character, followed by the variable group name,
<var>var_group_name</var>, ending the line with the character &quot;/&quot;.
The values in the file can be in different lines but always between the two
mentioned characters.
</p>

<p>
Program <a href="#s-sec_p_6_3"><samp>excode_7_3.f90</samp>, Section 7.3.4</a>
is almost identical to program <a
href="#s-sec_p_6_2"><samp>excode_7_2.f90</samp>, Section 7.3.2</a> but it has
been modified to make use of a <samp>namelist</samp> file, called
<samp>sec_order.inp</samp>, included as <a
href="#s-sec_p_6_32"><samp>namelist</samp> input file, Section 7.3.5</a>.
</p>
</li>
</ul>
<ul>
<li>
<p>
In the example <a href="#s-sec_p_6_4"><samp>excode_7_4.f90</samp>, Section
7.3.6</a> you can find an <em>internal file</em>, where the I/O takes place in
an internal buffer instead than in a file.  This is rather handy to treat data
of unknowkn format, reading them first in a character variable and treating
them later, or to handle data mixing variables of different types, like
character and integer.  This is the case in the example <a
href="#s-sec_p_6_4"><samp>excode_7_4.f90</samp>, Section 7.3.6</a> where a
series of different numbered files are defined and data saved in them.
sucesivamente.  In this example the intrinsic function <samp>TRIM</samp> is
used to remove trailing spaces from the variable <samp>pref</samp>.
</p>
</li>
</ul>

<hr>

<h2 id="s-sec_63">7.3 Example Codes</h2>

<hr>

<h3 id="s-sec_p_6_1">7.3.1 Programa ejemplo_7_1.f90</h3>

<pre>
     PROGRAM EJEMPLO_7_1
       IMPLICIT NONE
       !Definicion de variables
       INTEGER , PARAMETER :: NROW=5
       INTEGER , PARAMETER :: NCOL=6
       REAL , DIMENSION(1:NROW,1:NCOL)   :: RESULT_EXAMS = 0.0
       REAL , DIMENSION(1:NROW)          :: MEDIA_ESTUD = 0.0
       REAL , DIMENSION(1:NCOL)          :: MEDIA_ASIGN = 0.0
       INTEGER :: R,C
       !
       ! Abrir fichero para lectura
       OPEN(UNIT=20,FILE='notas.dat',STATUS='OLD') 
       !
       DO R=1,NROW
          READ(UNIT=20,FMT=100) RESULT_EXAMS(R,1:NCOL),MEDIA_ESTUD(R) ! Lectura de notas y luego de promedio
          100 FORMAT(6(2X,F4.1),2X,F5.2) ! Se leen 6 numeros seguidos y luego un septimo 
       ENDDO
       READ (20,*) ! Saltamos una linea con esta orden
       READ (20,110) MEDIA_ASIGN(1:NCOL) ! 
     110 FORMAT(6(2X,F4.1))
     !
     ! IMPRESION DE LAS NOTAS EN LA SALIDA ESTANDAR
       DO R=1,NROW
          PRINT 200, RESULT_EXAMS(R,1:NCOL), MEDIA_ESTUD(R)
     200  FORMAT(1X,6(1X,F5.1),' = ',F6.2)
       END DO
       PRINT *,'  ====  ====  ====  ====  ====  ==== '
       PRINT 210, MEDIA_ASIGN(1:NCOL)
     210 FORMAT(1X,6(1X,F5.1))
     END PROGRAM EJEMPLO_7_1
</pre>

<hr>

<h3 id="s-sec_p_6_2">7.3.2 <samp>excode_7_2.f90</samp></h3>

<pre>
     PROGRAM ex_7_2
     ! Second degree equation solver
     ! y = A*x**2 + B*x + C
       IMPLICIT NONE
       ! Variables
       REAL :: A = 0.0
       REAL :: B = 0.0
       REAL :: C = 0.0
       REAL, DIMENSION(2) :: SOL
       REAL :: TEMP
       INTEGER :: I
       !
       ! Input: A, B, C
       READ*, A 
       READ*, B
       READ*, C 
       !
       ! Calculations
       TEMP = SQRT(B*B-4.0*A*C)
       !
       SOL(1) = (-B+TEMP)/(2.0*A)
       SOL(2) = (-B-TEMP)/(2.0*A)
       !
       !
       ! 
       DO I=1, 2
          PRINT 200, I, SOL(I)
     200  FORMAT(1X,'SOLUTION ', I2,' = ',F18.6)
       END DO
     !
     END PROGRAM EX_7_2
</pre>

<hr>

<h3 id="s-sec_p_6_22">7.3.3 Script <samp>ej_here_file</samp></h3>

<pre>
     # Compile..
     gfortran -o second_order  excode_7_2.f90
     # And Run...
     ./second_order &lt;&lt;eof
     2.0     # A
     1.0     # B
     -4.0    # C
     eof
</pre>

<hr>

<h3 id="s-sec_p_6_3">7.3.4 <samp>excode_7_3.f90</samp></h3>

<pre>
     PROGRAM ex_7_3
       ! Solving second order algebraic equation
       ! y = A*x**2 + B*x + C
       IMPLICIT NONE
       ! Variables
       REAL :: A = 0.0
       REAL :: B = 0.0
       REAL :: C = 0.0
       REAL, DIMENSION(2) :: SOL
       REAL :: TEMP
       INTEGER :: I
       !
       !     NAMELIST DEFINITION
       NAMELIST/INP0/ A, B, C
       !     NAMELIST FILE
       OPEN(UNIT=10,FILE='sec_order.inp',STATUS='OLD')
       !     Inpot of A, B, C
       READ(10,INP0)
       !
       ! Calculations
       TEMP = SQRT(B*B-4.0*A*C)
       !
       SOL(1) = (-B+TEMP)/(2.0*A)
       SOL(2) = (-B-TEMP)/(2.0*A)
       !
       !
       ! OUTOPUT 
       DO I=1, 2
          PRINT 200, I, SOL(I)
     200  FORMAT(1X,'SOLUTION ', I2,' = ',F18.6)
       END DO
     !
     END PROGRAM EX_7_3
</pre>

<hr>

<h3 id="s-sec_p_6_32">7.3.5 <samp>namelist</samp> input file</h3>

<pre>
     #
     #       INPUT FILE FOR excode_7_3.f90
     #
      &amp;INP0 A=2.0, B=1.0, C=-4.0 /
</pre>

<hr>

<h3 id="s-sec_p_6_4">7.3.6 <samp>excode_7_4.f90</samp></h3>

<pre>
     PROGRAM ex_7_4
       !
       ! Internal file example
       !
       IMPLICIT NONE
       ! Variables
       REAL :: x_var
       INTEGER :: unit_n, index_X
       CHARACTER(LEN=65) :: filename
       CHARACTER(LEN=56) :: pref
       !
       PRINT*, &quot;Introduce file name preffix: &quot;
       READ(*,*) pref
       !
       DO unit_n = 10, 20
          !
          WRITE(filename, '(A, &quot;_&quot;, i2,&quot;.dat&quot;)') TRIM(pref), unit_n
          OPEN(UNIT = unit_n, FILE = filename, STATUS = &quot;UNKNOWN&quot;, ACTION = &quot;WRITE&quot;)
          !
          DO index_X = 0, 100
             x_var = REAL(index_X)*0.01
             WRITE(unit_n, '(1X,2ES14.6)') x_var, SIN(REAL(unit_n)*x_var)
          ENDDO
          !
          CLOSE(UNIT = unit_n)
          !
       ENDDO
     !
     END PROGRAM ex_7_4
</pre>

<hr>

<p>
[ <a href="ch-clase_5.html">previous</a> ]
[ <a href="index.html#contents">Contents</a> ]
[ <a href="ch-clase_1.html">1</a> ]
[ <a href="ch-clase_2.html">2</a> ]
[ <a href="ch-clase_3.html">3</a> ]
[ <a href="ch-clase_4.html">4</a> ]
[ <a href="ch-clase_7.html">5</a> ]
[ <a href="ch-clase_5.html">6</a> ]
[ 7 ]
[ <a href="ch-clase_8.html">8</a> ]
[ <a href="ch-clase_9.html">9</a> ]
[ <a href="ch-clase_10.html">10</a> ]
[ <a href="ch-clase_11.html">11</a> ]
[ <a href="ch-clase_blaslap.html">12</a> ]
[ <a href="ch-cap_ref.html">13</a> ]
[ <a href="ch-clase_8.html">next</a> ]
</p>

<hr>

<p>
<code>Fortran 90</code> Lessons for Computational Chemistry
</p>

<address>
0.0<br>
<br>
Curro Pérez-Bernal <code><a href="mailto:francisco.perez@dfaie.uhu.es">mailto:francisco.perez@dfaie.uhu.es</a></code><br>
<br>
</address>
<hr>

</body>

</html>

